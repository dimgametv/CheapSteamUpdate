<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cyber Games Store</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');
        
        body {
            box-sizing: border-box;
            font-family: 'Rajdhani', sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0033 50%, #000000 100%);
            min-height: 100%;
            overflow-x: hidden;
        }
        
        ::-webkit-scrollbar {
            display: none;
        }
        
        * {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        html {
            height: 100%;
        }
        
        .cyber-glow {
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3), inset 0 0 20px rgba(0, 255, 255, 0.1);
        }
        
        .neon-text {
            /* Removed glow effect */
        }
        
        .game-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 2px solid #00ffff;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.2);
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0033 50%, #000000 100%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }
        

        
        .loading-text {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 700;
            color: #00ffff;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
            margin-bottom: 2rem;
            letter-spacing: 3px;
            animation: pulse 2s infinite;
        }
        
        /* Mobile game category tabs */
        .mobile-game-tabs {
            position: fixed;
            bottom: 80px;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0033 50%, #000000 100%);
            border-top: 2px solid #00ffff;
            backdrop-filter: blur(10px);
            z-index: 99;
            transform: translateY(0);
            transition: transform 0.3s ease;
            display: none;
        }
        
        .mobile-game-tabs.hidden {
            transform: translateY(100%);
        }
        
        .mobile-game-tabs .tab-button {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.75rem 0.5rem;
            background: transparent;
            border: none;
            color: #888;
            font-size: 0.625rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
        }
        
        .mobile-game-tabs .tab-button.active {
            color: #00ffff;
            background: rgba(0, 255, 255, 0.1);
        }
        
        .mobile-game-tabs .tab-button:not(.active):hover {
            color: #00ffff;
            background: rgba(0, 255, 255, 0.05);
        }
        
        .mobile-game-tabs .tab-icon {
            width: 20px;
            height: 20px;
            margin-bottom: 0.25rem;
            fill: currentColor;
        }

        /* Mobile bottom navigation for main pages */
        .mobile-bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0033 50%, #000000 100%);
            border-top: 2px solid #00ffff;
            backdrop-filter: blur(10px);
            z-index: 100;
            transform: translateY(0);
            transition: transform 0.3s ease;
            display: none;
        }
        
        .mobile-bottom-nav.hidden {
            transform: translateY(100%);
        }
        
        .mobile-bottom-nav .nav-button {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.75rem 0.5rem;
            background: transparent;
            border: none;
            color: #888;
            font-size: 0.625rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
        }
        
        .mobile-bottom-nav .nav-button.active {
            color: #00ffff;
            background: rgba(0, 255, 255, 0.1);
        }
        
        .mobile-bottom-nav .nav-button:not(.active):hover {
            color: #00ffff;
            background: rgba(0, 255, 255, 0.05);
        }
        
        .mobile-bottom-nav .nav-icon {
            width: 20px;
            height: 20px;
            margin-bottom: 0.25rem;
            fill: currentColor;
        }

        /* Page containers */
        .page-container {
            display: none;
        }
        
        .page-container.active {
            display: block;
        }

        /* Mobile responsive styles */
        @media (max-width: 768px) {
            .loading-text {
                font-size: 1.5rem;
                letter-spacing: 2px;
                margin-bottom: 1.5rem;
            }
            
            .loading-bar-container {
                width: 300px;
                height: 6px;
            }
            
            /* Header adjustments */
            .text-3xl {
                font-size: 1.5rem !important;
            }
            
            /* Show mobile navigation */
            .mobile-bottom-nav {
                display: flex !important;
            }
            
            .mobile-game-tabs {
                display: none !important;
            }
            
            /* Show desktop tabs on mobile */
            .page-container.active .desktop-tabs {
                display: flex !important;
            }
            
            /* Add bottom padding to main content */
            main {
                padding-bottom: 80px;
            }
            
            /* Game cards text */
            .game-card h3 {
                font-size: 0.75rem !important;
                line-height: 1.2 !important;
            }
            
            .game-card .text-lg {
                font-size: 0.875rem !important;
            }
            
            .game-card .text-xs {
                font-size: 0.625rem !important;
            }
            
            .game-card .text-sm {
                font-size: 0.75rem !important;
            }
            
            /* Cyber buttons */
            .cyber-button {
                padding: 0.5rem 1rem !important;
                font-size: 0.75rem !important;
            }
            
            /* Side menu adjustments */
            .side-menu {
                width: 250px;
            }
            
            .side-menu .text-2xl {
                font-size: 1.25rem !important;
            }
            
            .side-menu .text-xl {
                font-size: 1rem !important;
            }
            
            /* Modal adjustments */
            .auth-form h2 {
                font-size: 1.5rem !important;
            }
            
            .auth-form input {
                padding: 0.75rem !important;
                font-size: 0.875rem !important;
            }
            
            .auth-form button {
                padding: 0.75rem !important;
                font-size: 1rem !important;
            }
            
            /* Banner height adjustment */
            .banner-slider {
                height: 200px;
            }
            
            /* Grid adjustments for mobile */
            .grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
            }
        }
        
        @media (max-width: 480px) {
            .loading-text {
                font-size: 1.25rem;
                letter-spacing: 1px;
            }
            
            .loading-bar-container {
                width: 250px;
                height: 5px;
            }
            
            .text-3xl {
                font-size: 1.25rem !important;
            }
            
            .tab-button {
                padding: 0.375rem 0.75rem !important;
                font-size: 0.625rem !important;
            }
            
            .game-card h3 {
                font-size: 0.625rem !important;
            }
            
            .cyber-button {
                padding: 0.375rem 0.75rem !important;
                font-size: 0.625rem !important;
            }
            
            .banner-slider {
                height: 150px;
            }
            
            .side-menu {
                width: 200px;
            }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
        
        .loading-bar-container {
            width: 400px;
            height: 8px;
            background: rgba(0, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
            border: 1px solid #00ffff;
        }
        
        .loading-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff00ff, #00ffff, #ff00ff);
            background-size: 200% 100%;
            border-radius: 4px;
            width: 0%;
            transition: width 0.1s ease;
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        

        
        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
            z-index: 20;
        }
        
        .game-card:hover::before {
            left: 100%;
        }
        
        .game-card:hover {
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
        }
        

        
        .cyber-button {
            background: linear-gradient(45deg, #ff00ff, #00ffff);
            border: none;
            color: #000;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .cyber-button:hover {
            box-shadow: 0 0 20px rgba(255, 0, 255, 0.6);
        }
        
        .grid-pattern {
            background-image: 
                linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
        }
        
        .price-tag {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: #000;
            font-weight: 700;
        }
        
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: #00ffff;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #ff00ff, #00ffff);
            transition: width 0.3s ease;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .side-menu {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100%;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0033 50%, #000000 100%);
            border-right: 2px solid #00ffff;
            transition: left 0.3s ease;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .side-menu.open {
            left: 0;
        }
        
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 999;
        }
        
        .menu-overlay.open {
            opacity: 1;
            visibility: visible;
        }
        
        .hamburger {
            display: flex;
            flex-direction: column;
            cursor: pointer;
            padding: 4px;
        }
        
        .hamburger span {
            width: 25px;
            height: 3px;
            background: #00ffff;
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }
        
        .hamburger.active span:nth-child(1) {
            transform: rotate(-45deg) translate(-5px, 6px);
        }
        
        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }
        
        .hamburger.active span:nth-child(3) {
            transform: rotate(45deg) translate(-5px, -6px);
        }
        
        .banner-slider {
            position: relative;
            overflow: hidden;
            height: 300px;
            width: 100%;
        }
        
        .banner-slides-container {
            display: flex;
            width: 300%;
            height: 100%;
            transition: transform 1s ease-in-out;
        }
        
        .banner-slide {
            width: 33.333%;
            height: 100%;
            background-size: cover;
            background-position: center;
            flex-shrink: 0;
        }
        
        .banner-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
        }
        
        .banner-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(0, 0, 0, 0.6), rgba(0, 255, 255, 0.2));
            z-index: 5;
        }
        
        .tab-button {
            background: transparent;
            color: #888;
            border: none;
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            background: linear-gradient(45deg, #ff00ff, #00ffff);
            color: #000;
        }
        
        .tab-button:not(.active):hover {
            color: #00ffff;
            background: rgba(0, 255, 255, 0.1);
        }
        
        .tabs-container {
            min-height: 400px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .game-card {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 2px solid #00ffff;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.2);
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0033 50%, #000000 100%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }
        

        
        .loading-text {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 700;
            color: #00ffff;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
            margin-bottom: 2rem;
            letter-spacing: 3px;
            animation: pulse 2s infinite;
        }
        
        /* Mobile game category tabs */
        .mobile-game-tabs {
            position: fixed;
            bottom: 80px;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0033 50%, #000000 100%);
            border-top: 2px solid #00ffff;
            backdrop-filter: blur(10px);
            z-index: 99;
            transform: translateY(0);
            transition: transform 0.3s ease;
            display: none;
        }
        
        .mobile-game-tabs.hidden {
            transform: translateY(100%);
        }
        
        .mobile-game-tabs .tab-button {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.75rem 0.5rem;
            background: transparent;
            border: none;
            color: #888;
            font-size: 0.625rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
        }
        
        .mobile-game-tabs .tab-button.active {
            color: #00ffff;
            background: rgba(0, 255, 255, 0.1);
        }
        
        .mobile-game-tabs .tab-button:not(.active):hover {
            color: #00ffff;
            background: rgba(0, 255, 255, 0.05);
        }
        
        .mobile-game-tabs .tab-icon {
            width: 20px;
            height: 20px;
            margin-bottom: 0.25rem;
            fill: currentColor;
        }

        /* Mobile bottom navigation for main pages */
        .mobile-bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0033 50%, #000000 100%);
            border-top: 2px solid #00ffff;
            backdrop-filter: blur(10px);
            z-index: 100;
            transform: translateY(0);
            transition: transform 0.3s ease;
            display: none;
        }
        
        .mobile-bottom-nav.hidden {
            transform: translateY(100%);
        }
        
        .mobile-bottom-nav .nav-button {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.75rem 0.5rem;
            background: transparent;
            border: none;
            color: #888;
            font-size: 0.625rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
        }
        
        .mobile-bottom-nav .nav-button.active {
            color: #00ffff;
            background: rgba(0, 255, 255, 0.1);
        }
        
        .mobile-bottom-nav .nav-button:not(.active):hover {
            color: #00ffff;
            background: rgba(0, 255, 255, 0.05);
        }
        
        .mobile-bottom-nav .nav-icon {
            width: 20px;
            height: 20px;
            margin-bottom: 0.25rem;
            fill: currentColor;
        }

        /* Page containers */
        .page-container {
            display: none;
        }
        
        .page-container.active {
            display: block;
        }

        /* Mobile responsive styles */
        @media (max-width: 768px) {
            .loading-text {
                font-size: 1.5rem;
                letter-spacing: 2px;
                margin-bottom: 1.5rem;
            }
            
            .loading-bar-container {
                width: 300px;
                height: 6px;
            }
            
            /* Header adjustments */
            .text-3xl {
                font-size: 1.5rem !important;
            }
            
            /* Show mobile navigation */
            .mobile-bottom-nav {
                display: flex !important;
            }
            
            .mobile-game-tabs {
                display: none !important;
            }
            
            /* Show desktop tabs on mobile */
            .page-container.active .desktop-tabs {
                display: flex !important;
            }
            
            /* Add bottom padding to main content */
            main {
                padding-bottom: 80px;
            }
            
            /* Game cards text */
            .game-card h3 {
                font-size: 0.75rem !important;
                line-height: 1.2 !important;
            }
            
            .game-card .text-lg {
                font-size: 0.875rem !important;
            }
            
            .game-card .text-xs {
                font-size: 0.625rem !important;
            }
            
            .game-card .text-sm {
                font-size: 0.75rem !important;
            }
            
            /* Cyber buttons */
            .cyber-button {
                padding: 0.5rem 1rem !important;
                font-size: 0.75rem !important;
            }
            
            /* Side menu adjustments */
            .side-menu {
                width: 250px;
            }
            
            .side-menu .text-2xl {
                font-size: 1.25rem !important;
            }
            
            .side-menu .text-xl {
                font-size: 1rem !important;
            }
            
            /* Modal adjustments */
            .auth-form h2 {
                font-size: 1.5rem !important;
            }
            
            .auth-form input {
                padding: 0.75rem !important;
                font-size: 0.875rem !important;
            }
            
            .auth-form button {
                padding: 0.75rem !important;
                font-size: 1rem !important;
            }
            
            /* Banner height adjustment */
            .banner-slider {
                height: 200px;
            }
            
            /* Grid adjustments for mobile */
            .grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
            }
        }
        
        @media (max-width: 480px) {
            .loading-text {
                font-size: 1.25rem;
                letter-spacing: 1px;
            }
            
            .loading-bar-container {
                width: 250px;
                height: 5px;
            }
            
            .text-3xl {
                font-size: 1.25rem !important;
            }
            
            .tab-button {
                padding: 0.375rem 0.75rem !important;
                font-size: 0.625rem !important;
            }
            
            .game-card h3 {
                font-size: 0.625rem !important;
            }
            
            .cyber-button {
                padding: 0.375rem 0.75rem !important;
                font-size: 0.625rem !important;
            }
            
            .banner-slider {
                height: 150px;
            }
            
            .side-menu {
                width: 200px;
            }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
        
        .loading-bar-container {
            width: 400px;
            height: 8px;
            background: rgba(0, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
            border: 1px solid #00ffff;
        }
        
        .loading-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff00ff, #00ffff, #ff00ff);
            background-size: 200% 100%;
            border-radius: 4px;
            width: 0%;
            transition: width 0.1s ease;
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        

        

    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="text-white"><!-- Loading Overlay -->
  <div class="loading-overlay" id="loading-overlay">
   <div class="loading-text">
    PLEASE WAIT...
   </div>
   <div class="loading-bar-container">
    <div class="loading-bar" id="loading-bar"></div>
   </div>
  </div><!-- Menu Overlay -->
  <div class="menu-overlay" id="menu-overlay"></div><!-- Side Menu -->
  <div class="side-menu" id="side-menu">
   <div class="p-6">
    <div class="flex items-center justify-between mb-8">
     <h3 class="text-2xl font-bold font-['Orbitron'] text-cyan-400">MENU</h3><button class="hamburger active" id="close-menu"> <span></span> <span></span> <span></span> </button>
    </div>
    <nav class="space-y-6"><button class="block nav-link text-xl font-semibold text-white hover:text-cyan-400 transition-colors text-left w-full" data-page="home">Home</button> <button class="block nav-link text-xl font-semibold text-white hover:text-cyan-400 transition-colors text-left w-full" data-page="store">Store</button> <button class="block nav-link text-xl font-semibold text-white hover:text-cyan-400 transition-colors text-left w-full" data-page="account">Account</button>
     <div class="pt-4 border-t border-cyan-500" id="cart-section"><button class="cyber-button px-6 py-2 font-['Rajdhani'] w-full mb-3" id="cart-button">Cart (<span id="cart-count">0</span>)</button>
      <div id="cart-items" class="space-y-2 max-h-64 overflow-y-auto"><!-- Cart items will appear here -->
      </div>
     </div>
    </nav>
   </div>
  </div>
  <header class="bg-black bg-opacity-80 backdrop-blur-sm border-b border-cyan-500 sticky top-0 z-50">
   <nav class="container mx-auto px-6 py-4">
    <div class="flex items-center justify-between w-full">
     <div class="flex items-center justify-start w-1/3"><button class="hamburger ml-0" id="menu-toggle"> <span></span> <span></span> <span></span> </button>
     </div>
     <div class="flex items-center justify-center w-1/3">
      <div class="text-3xl font-bold font-['Orbitron'] text-cyan-400" id="store-title">
       CHEAPSTEAM
      </div>
     </div>
     <div class="flex items-center justify-end w-1/3"><button class="cyber-button px-6 py-2 font-['Rajdhani'] mr-0" id="auth-button">Login</button>
     </div>
    </div>
   </nav>
  </header>
  <main><!-- Home Page -->
   <div class="page-container active" id="home-page"><!-- Sliding Banner Section -->
    <section class="banner-slider">
     <div class="banner-slides-container" id="slides-container">
      <div class="banner-slide" id="slide-1">
      </div>
      <div class="banner-slide" id="slide-2">
      </div>
      <div class="banner-slide" id="slide-3">
      </div>
     </div>
    </section><!-- Tabbed Games Section -->
    <section class="py-6 px-4">
     <div class="max-w-7xl mx-auto"><!-- Desktop Tab Navigation -->
      <div class="desktop-tabs flex justify-center mb-6">
       <div class="flex bg-black bg-opacity-50 border border-cyan-500 rounded-lg overflow-hidden"><button class="tab-button active px-6 py-3 font-['Orbitron'] font-bold text-sm transition-all duration-300" data-tab="featured"> FEATURED </button> <button class="tab-button px-6 py-3 font-['Orbitron'] font-bold text-sm transition-all duration-300" data-tab="new-releases"> NEW RELEASES </button> <button class="tab-button px-6 py-3 font-['Orbitron'] font-bold text-sm transition-all duration-300" data-tab="best-sellers"> BEST SELLERS </button>
       </div>
      </div><!-- Search Section -->
      <div class="mb-8">
       <div class="relative"><input type="text" id="home-search" placeholder="Search games..." class="w-full px-6 py-4 bg-black bg-opacity-50 border-2 border-cyan-500 text-white text-lg focus:outline-none focus:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 font-['Rajdhani'] placeholder-gray-400">
        <div id="home-search-suggestions" class="absolute top-full left-0 right-0 bg-black bg-opacity-95 border-2 border-cyan-500 border-t-0 max-h-96 overflow-y-auto z-50 hidden"><!-- Search suggestions will appear here -->
        </div>
       </div>
      </div><!-- Tab Content Container -->
      <div class="tabs-container relative">
       <div class="tab-content active" id="featured-tab">
        <div class="grid grid-cols-2 lg:grid-cols-5 gap-3" id="featured-games-grid" style="padding-left: 2px; padding-right: 2px;"><!-- Featured games will be populated by JavaScript -->
        </div>
       </div>
       <div class="tab-content" id="new-releases-tab">
        <div class="grid grid-cols-2 lg:grid-cols-5 gap-3" id="new-releases-grid" style="padding-left: 2px; padding-right: 2px;"><!-- New releases will be populated by JavaScript -->
        </div>
       </div>
       <div class="tab-content" id="best-sellers-tab">
        <div class="grid grid-cols-2 lg:grid-cols-5 gap-3" id="best-sellers-grid" style="padding-left: 2px; padding-right: 2px;"><!-- Best sellers will be populated by JavaScript -->
        </div>
       </div>
      </div>
     </div>
    </section>
   </div><!-- Store Page -->
   <div class="page-container" id="store-page">
    <section class="py-8 px-4">
     <div class="max-w-7xl mx-auto">
      <div class="text-center mb-8">
       <h1 class="text-4xl font-bold font-['Orbitron'] text-cyan-400 mb-4">GAME STORE</h1>
       <p class="text-xl text-gray-300">Browse our complete collection of cyber games</p>
      </div><!-- Active Giveaways Section -->
      <div class="mb-8">
       <div class="flex items-center justify-between mb-4">
        <h2 class="text-2xl font-bold font-['Orbitron'] text-cyan-400">üéÅ ACTIVE GIVEAWAYS</h2>
       </div>
       <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="giveaways-grid"><!-- Only 2 giveaways will be shown here -->
       </div>
      </div><!-- Owned Games Section (only shown when logged in) -->
      <div class="mb-8" id="owned-games-section" style="display: none;">
       <div class="flex items-center justify-between mb-4">
        <h2 class="text-2xl font-bold font-['Orbitron'] text-cyan-400">üìö MY GAMES LIBRARY</h2>
       </div>
       <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="owned-games-grid"><!-- Only 2 owned games will be shown here -->
       </div>
      </div><!-- Game Bundles Grid -->
      <div class="mb-6">
       <div class="flex flex-col md:flex-row md:items-center justify-between mb-4">
        <h2 class="text-2xl font-bold font-['Orbitron'] text-cyan-400 mb-4 md:mb-0">GAME BUNDLES</h2>
        <div class="relative w-full md:w-80"><input type="text" id="bundle-search" placeholder="Search bundles..." class="w-full px-4 py-2 bg-black bg-opacity-50 border border-cyan-500 text-white focus:outline-none focus:border-cyan-300 focus:ring-1 focus:ring-cyan-500 focus:ring-opacity-50 font-['Rajdhani'] placeholder-gray-400">
         <div id="bundle-search-suggestions" class="absolute top-full left-0 right-0 bg-black bg-opacity-95 border border-cyan-500 border-t-0 max-h-64 overflow-y-auto z-50 hidden"><!-- Bundle search suggestions will appear here -->
         </div>
        </div>
       </div>
       <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="bundles-grid"><!-- Game bundles will be populated by JavaScript -->
       </div>
      </div>
     </div>
    </section>
   </div><!-- Giveaways Page -->
   <div class="page-container" id="giveaways-page">
    <section class="py-8 px-4">
     <div class="max-w-7xl mx-auto">
      <div class="text-center mb-8">
       <h1 class="text-4xl font-bold font-['Orbitron'] text-cyan-400 mb-4">üéÅ ALL GIVEAWAYS</h1>
       <p class="text-xl text-gray-300">Enter active giveaways and win amazing prizes</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="all-giveaways-grid"><!-- All giveaways will be populated by JavaScript -->
      </div>
     </div>
    </section>
   </div><!-- Library Page -->
   <div class="page-container" id="library-page">
    <section class="py-8 px-4">
     <div class="max-w-7xl mx-auto">
      <div class="text-center mb-8">
       <h1 class="text-4xl font-bold font-['Orbitron'] text-cyan-400 mb-4">üìö MY GAMES LIBRARY</h1>
       <p class="text-xl text-gray-300">Manage and play your owned games</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4" id="all-owned-games-grid"><!-- All owned games will be populated by JavaScript -->
      </div>
     </div>
    </section>
   </div><!-- Account Page -->
   <div class="page-container" id="account-page">
    <section class="py-8 px-4">
     <div class="max-w-7xl mx-auto">
      <div class="text-center mb-8">
       <h1 class="text-4xl font-bold font-['Orbitron'] text-cyan-400 mb-4">MY ACCOUNT</h1>
       <p class="text-xl text-gray-300">Manage your gaming profile</p>
      </div>
      <div id="account-content"><!-- Not logged in state -->
       <div id="account-not-logged-in" class="text-center">
        <div class="game-card p-8 max-w-md mx-auto">
         <div class="text-6xl mb-6">
          üë§
         </div>
         <h3 class="text-2xl font-bold text-cyan-400 mb-4">Sign In Required</h3>
         <p class="text-gray-300 mb-6">Please sign in to access your account features</p><button class="cyber-button px-8 py-3 font-['Rajdhani'] text-lg" id="account-login-btn">Sign In</button>
        </div>
       </div><!-- Logged in state -->
       <div id="account-logged-in" class="hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><!-- Profile Info -->
         <div class="game-card p-6">
          <h3 class="text-xl font-bold text-cyan-400 mb-4">Profile Information</h3>
          <div class="space-y-3">
           <div><label class="block text-sm text-gray-400">Username</label>
            <p class="text-white font-semibold" id="profile-username">-</p>
           </div>
           <div><label class="block text-sm text-gray-400">Email</label>
            <p class="text-white font-semibold" id="profile-email">-</p>
           </div>
           <div><label class="block text-sm text-gray-400">Steam ID</label>
            <p class="text-white font-semibold" id="profile-steam-id">-</p>
           </div>
           <div><label class="block text-sm text-gray-400">Member Since</label>
            <p class="text-white font-semibold" id="profile-member-since">-</p>
           </div>
          </div>
         </div><!-- Gaming Stats -->
         <div class="game-card p-6">
          <h3 class="text-xl font-bold text-cyan-400 mb-4">Gaming Stats</h3>
          <div class="space-y-3">
           <div class="flex justify-between"><span class="text-gray-400">Games Owned</span> <span class="text-cyan-400 font-bold">12</span>
           </div>
           <div class="flex justify-between"><span class="text-gray-400">Hours Played</span> <span class="text-cyan-400 font-bold">247</span>
           </div>
           <div class="flex justify-between"><span class="text-gray-400">Achievements</span> <span class="text-cyan-400 font-bold">89</span>
           </div>
           <div class="flex justify-between"><span class="text-gray-400">Level</span> <span class="text-cyan-400 font-bold">15</span>
           </div>
          </div>
         </div><!-- Participated Giveaways -->
         <div class="game-card p-6 md:col-span-2">
          <h3 class="text-xl font-bold text-cyan-400 mb-4">üéÅ My Giveaway Entries</h3>
          <div id="user-giveaways">
           <p class="text-gray-400 text-center py-4">No giveaway entries yet. Visit the Store to enter giveaways!</p>
          </div>
         </div><!-- Recent Activity -->
         <div class="game-card p-6 md:col-span-2">
          <h3 class="text-xl font-bold text-cyan-400 mb-4">Recent Activity</h3>
          <div id="recent-activity" class="space-y-3"><!-- Recent activity will be populated by JavaScript -->
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </section>
   </div>
  </main><!-- Mobile Game Category Navigation (only visible on home page) -->
  <div class="mobile-game-tabs" id="mobile-game-tabs"><button class="tab-button active" data-tab="featured">
    <svg class="tab-icon" viewbox="0 0 24 24"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" />
    </svg><span>FEATURED</span> </button> <button class="tab-button" data-tab="new-releases">
    <svg class="tab-icon" viewbox="0 0 24 24"><path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7.5V9M15 11.5V9.5L21 9V11L15 11.5ZM11 15.5C11 16.3 10.3 17 9.5 17S8 16.3 8 15.5 8.7 14 9.5 14 11 14.7 11 15.5ZM16 15.5C16 16.3 15.3 17 14.5 17S13 16.3 13 15.5 13.7 14 14.5 14 16 14.7 16 15.5ZM12 20.5C12.8 20.5 13.5 19.8 13.5 19S12.8 17.5 12 17.5 10.5 18.2 10.5 19 11.2 20.5 12 20.5Z" />
    </svg><span>NEW</span> </button> <button class="tab-button" data-tab="best-sellers">
    <svg class="tab-icon" viewbox="0 0 24 24"><path d="M16 6L18.29 8.29L13.41 13.17L9.41 9.17L2 16.59L3.41 18L9.41 12L13.41 16L19.71 9.71L22 12V6H16Z" />
    </svg><span>TRENDING</span> </button>
  </div><!-- Mobile Bottom Navigation for Main Pages -->
  <div class="mobile-bottom-nav" id="mobile-bottom-nav"><button class="nav-button active" data-page="home">
    <svg class="nav-icon" viewbox="0 0 24 24"><path d="M10 20V14H14V20H19V12H22L12 3L2 12H5V20H10Z" />
    </svg><span>HOME</span> </button> <button class="nav-button" data-page="store">
    <svg class="nav-icon" viewbox="0 0 24 24"><path d="M19 7H18V6C18 3.79 16.21 2 14 2H10C7.79 2 6 3.79 6 6V7H5C3.9 7 3 7.9 3 9V20C3 21.1 3.9 22 5 22H19C20.1 22 21 21.1 21 20V9C21 7.9 20.1 7 19 7ZM10 4H14C15.1 4 16 4.9 16 6V7H8V6C8 4.9 8.9 4 10 4ZM19 20H5V9H19V20ZM12 12C10.9 12 10 12.9 10 14C10 15.1 10.9 16 12 16C13.1 16 14 15.1 14 14C14 12.9 13.1 12 12 12Z" />
    </svg><span>STORE</span> </button> <button class="nav-button" data-page="account">
    <svg class="nav-icon" viewbox="0 0 24 24"><path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7.5V9M15 11.5V9.5L21 9V11L15 11.5ZM11 15.5C11 16.3 10.3 17 9.5 17S8 16.3 8 15.5 8.7 14 9.5 14 11 14.7 11 15.5ZM16 15.5C16 16.3 15.3 17 14.5 17S13 16.3 13 15.5 13.7 14 14.5 14 16 14.7 16 15.5ZM12 20.5C12.8 20.5 13.5 19.8 13.5 19S12.8 17.5 12 17.5 10.5 18.2 10.5 19 11.2 20.5 12 20.5Z" />
    </svg><span>ACCOUNT</span> </button>
  </div><!-- Participation Code Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm z-50 hidden" id="participation-modal">
   <div class="flex items-center justify-center min-h-full p-4">
    <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-cyan-500 p-8 w-full max-w-md relative cyber-glow"><button class="absolute top-4 right-4 text-cyan-400 hover:text-white text-2xl" id="close-participation-modal">√ó</button>
     <div class="text-center mb-6">
      <h2 class="text-2xl font-bold font-['Orbitron'] text-cyan-400 mb-2">ENTER GIVEAWAY</h2>
      <p class="text-gray-300 text-sm" id="participation-giveaway-name">Giveaway Name</p>
     </div>
     <form id="participation-form">
      <div class="mb-6"><label for="participation-code" class="block text-sm font-semibold text-cyan-300 mb-2">Participation Code</label> <input type="text" id="participation-code" class="w-full px-4 py-3 bg-black bg-opacity-50 border border-cyan-500 text-white focus:outline-none focus:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 text-center font-mono text-lg" placeholder="Enter code here" required>
       <p class="text-xs text-gray-400 mt-2">Enter the participation code to join this giveaway</p>
      </div>
      <div class="flex space-x-3"><button type="submit" class="cyber-button flex-1 py-3 font-['Rajdhani'] text-lg font-bold"> CONFIRM </button> <button type="button" class="bg-gray-700 hover:bg-gray-600 text-white flex-1 py-3 font-['Rajdhani'] text-lg font-bold transition-colors" id="cancel-participation"> CANCEL </button>
      </div>
     </form>
    </div>
   </div>
  </div><!-- Bundle Details Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm z-50 hidden" id="bundle-modal">
   <div class="flex items-center justify-center min-h-full p-4">
    <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-cyan-500 p-8 w-full max-w-lg relative cyber-glow"><button class="absolute top-4 right-4 text-cyan-400 hover:text-white text-2xl" id="close-bundle-modal">√ó</button>
     <div id="bundle-content"><!-- Bundle details will be populated here -->
     </div>
    </div>
   </div>
  </div><!-- Payment Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm z-50 hidden" id="payment-modal">
   <div class="flex items-center justify-center min-h-full p-4">
    <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-cyan-500 p-8 w-full max-w-4xl relative cyber-glow max-h-[90vh] overflow-y-auto"><button class="absolute top-4 right-4 text-cyan-400 hover:text-white text-2xl" id="close-payment-modal">√ó</button>
     <div class="text-center mb-8">
      <h2 class="text-3xl font-bold font-['Orbitron'] text-cyan-400 mb-2">SECURE CHECKOUT</h2>
      <p class="text-gray-300">Complete your purchase securely</p>
     </div>
     <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><!-- Order Summary -->
      <div class="order-1 lg:order-2">
       <div class="game-card p-6">
        <h3 class="text-xl font-bold text-cyan-400 mb-4">üìã Order Summary</h3>
        <div id="checkout-items" class="space-y-3 mb-4"><!-- Checkout items will appear here -->
        </div>
        <div class="border-t border-gray-600 pt-4">
         <div class="flex justify-between items-center text-lg font-bold"><span class="text-white">Total:</span> <span class="text-green-400" id="checkout-total">$0.00</span>
         </div>
        </div>
       </div>
      </div><!-- Payment Form -->
      <div class="order-2 lg:order-1">
       <form id="payment-form" class="space-y-6"><!-- Payment Method -->
        <div class="game-card p-6">
         <h3 class="text-lg font-bold text-cyan-400 mb-4">üí≥ Payment Method</h3>
         <div class="space-y-3 mb-4"><label class="flex items-center space-x-3 cursor-pointer"> <input type="radio" name="payment-method" value="credit-card" class="text-cyan-500 focus:ring-cyan-500" checked> <span class="text-white font-semibold">üí≥ Credit/Debit Card</span> </label> <label class="flex items-center space-x-3 cursor-pointer"> <input type="radio" name="payment-method" value="paypal" class="text-cyan-500 focus:ring-cyan-500"> <span class="text-white font-semibold">üÖøÔ∏è PayPal</span> </label> <label class="flex items-center space-x-3 cursor-pointer"> <input type="radio" name="payment-method" value="crypto" class="text-cyan-500 focus:ring-cyan-500"> <span class="text-white font-semibold">‚Çø Cryptocurrency</span> </label>
         </div><!-- Card Details (shown by default) -->
         <div id="card-details">
          <div class="space-y-4">
           <div><label for="card-number" class="block text-sm font-semibold text-cyan-300 mb-2">Card Number</label> <input type="text" id="card-number" name="cardNumber" class="w-full px-4 py-3 bg-black bg-opacity-50 border border-cyan-500 text-white focus:outline-none focus:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 font-mono" placeholder="1234 5678 9012 3456" maxlength="19">
           </div>
           <div class="grid grid-cols-2 gap-4">
            <div><label for="expiry-date" class="block text-sm font-semibold text-cyan-300 mb-2">Expiry Date</label> <input type="text" id="expiry-date" name="expiryDate" class="w-full px-4 py-3 bg-black bg-opacity-50 border border-cyan-500 text-white focus:outline-none focus:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 font-mono" placeholder="MM/YY" maxlength="5">
            </div>
            <div><label for="cvv" class="block text-sm font-semibold text-cyan-300 mb-2">CVV</label> <input type="text" id="cvv" name="cvv" class="w-full px-4 py-3 bg-black bg-opacity-50 border border-cyan-500 text-white focus:outline-none focus:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 font-mono" placeholder="123" maxlength="4">
            </div>
           </div>
          </div>
         </div>
         <div class="mt-6"><label class="flex items-start space-x-3 cursor-pointer"> <input type="checkbox" id="terms" name="terms" class="mt-1 text-cyan-500 focus:ring-cyan-500" required> <span class="text-sm text-gray-300"> I agree to the <span class="text-cyan-400 underline">Terms of Service</span> and <span class="text-cyan-400 underline">Privacy Policy</span>. I understand that digital purchases are non-refundable. </span> </label>
         </div>
         <div class="flex space-x-4 mt-6"><button type="submit" class="cyber-button flex-1 py-4 font-['Rajdhani'] text-lg font-bold" id="complete-purchase-btn"> üîí COMPLETE PURCHASE </button> <button type="button" class="bg-gray-700 hover:bg-gray-600 text-white px-6 py-4 font-['Rajdhani'] text-lg font-bold transition-colors" id="cancel-payment"> CANCEL </button>
         </div>
         <div class="mt-4 text-center">
          <p class="text-xs text-gray-400">üîí Your payment information is encrypted and secure</p>
         </div>
        </div>
       </form>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Login/Signup Modal -->
  <div class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm z-50 hidden" id="auth-modal">
   <div class="flex items-center justify-center min-h-full p-4">
    <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-cyan-500 p-8 w-full max-w-md relative cyber-glow"><button class="absolute top-4 right-4 text-cyan-400 hover:text-white text-2xl" id="close-auth-modal">√ó</button> <!-- Login Form -->
     <div id="login-form" class="auth-form">
      <h2 class="text-3xl font-bold font-['Orbitron'] text-cyan-400 mb-6 text-center">LOGIN</h2>
      <form id="login-form-element">
       <div class="mb-4"><label for="login-email" class="block text-sm font-semibold text-cyan-300 mb-2">Email</label> <input type="email" id="login-email" class="w-full px-4 py-3 bg-black bg-opacity-50 border border-cyan-500 text-white focus:outline-none focus:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50" placeholder="Enter your email" required>
       </div>
       <div class="mb-6"><label for="login-password" class="block text-sm font-semibold text-cyan-300 mb-2">Password</label> <input type="password" id="login-password" class="w-full px-4 py-3 bg-black bg-opacity-50 border border-cyan-500 text-white focus:outline-none focus:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50" placeholder="Enter your password" required>
       </div><button type="submit" class="cyber-button w-full py-3 font-['Rajdhani'] text-lg font-bold mb-4"> LOGIN </button>
      </form>
      <p class="text-center text-gray-400">Don't have an account? <button class="text-cyan-400 hover:text-cyan-300 font-semibold" id="show-signup">Sign Up</button></p>
     </div><!-- Signup Form -->
     <div id="signup-form" class="auth-form hidden">
      <h2 class="text-3xl font-bold font-['Orbitron'] text-cyan-400 mb-6 text-center">SIGN UP</h2>
      <form id="signup-form-element">
       <div class="mb-4"><label for="signup-username" class="block text-sm font-semibold text-cyan-300 mb-2">Username</label> <input type="text" id="signup-username" class="w-full px-4 py-3 bg-black bg-opacity-50 border border-cyan-500 text-white focus:outline-none focus:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50" placeholder="Choose a username" required>
       </div>
       <div class="mb-4"><label for="signup-email" class="block text-sm font-semibold text-cyan-300 mb-2">Email</label> <input type="email" id="signup-email" class="w-full px-4 py-3 bg-black bg-opacity-50 border border-cyan-500 text-white focus:outline-none focus:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50" placeholder="Enter your email" required>
       </div>
       <div class="mb-6"><label for="signup-password" class="block text-sm font-semibold text-cyan-300 mb-2">Password</label> <input type="password" id="signup-password" class="w-full px-4 py-3 bg-black bg-opacity-50 border border-cyan-500 text-white focus:outline-none focus:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50" placeholder="Create a password" required>
       </div><button type="submit" class="cyber-button w-full py-3 font-['Rajdhani'] text-lg font-bold mb-4"> SIGN UP </button>
      </form>
      <p class="text-center text-gray-400">Already have an account? <button class="text-cyan-400 hover:text-cyan-300 font-semibold" id="show-login">Login</button></p>
     </div>
    </div>
   </div>
  </div>
  <script>
        // Random gaming poster backgrounds
        const gamingPosters = [
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='330' viewBox='0 0 220 330'%3E%3Cdefs%3E%3ClinearGradient id='poster1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23ff6b35;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23f7931e;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='220' height='330' fill='url(%23poster1)'/%3E%3Cpath d='M20 50 L200 50 L190 80 L30 80 Z' fill='%23000' opacity='0.3'/%3E%3Ccircle cx='110' cy='165' r='40' fill='%23000' opacity='0.2'/%3E%3Cpolygon points='110,120 90,200 130,200' fill='%23fff' opacity='0.8'/%3E%3C/svg%3E",
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='330' viewBox='0 0 220 330'%3E%3Cdefs%3E%3ClinearGradient id='poster2' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23ff00ff;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%2300ffff;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='220' height='330' fill='url(%23poster2)'/%3E%3Crect x='40' y='60' width='140' height='80' fill='%23000' opacity='0.4'/%3E%3Cpath d='M60 200 Q110 180 160 200 L160 250 Q110 270 60 250 Z' fill='%23fff' opacity='0.7'/%3E%3C/svg%3E",
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='330' viewBox='0 0 220 330'%3E%3Cdefs%3E%3ClinearGradient id='poster3' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23001100;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%2300ff00;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='220' height='330' fill='url(%23poster3)'/%3E%3Crect x='30' y='40' width='160' height='100' fill='%23000' opacity='0.3'/%3E%3Ccircle cx='110' cy='200' r='30' fill='%23000' opacity='0.5'/%3E%3Crect x='95' y='185' width='30' height='30' fill='%23fff'/%3E%3C/svg%3E",
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='330' viewBox='0 0 220 330'%3E%3Cdefs%3E%3ClinearGradient id='poster4' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23330066;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23000033;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='220' height='330' fill='url(%23poster4)'/%3E%3Cpolygon points='110,50 70,120 150,120' fill='%23fff' opacity='0.6'/%3E%3Crect x='50' y='180' width='120' height='60' fill='%23000' opacity='0.4'/%3E%3Ccircle cx='110' cy='280' r='20' fill='%2300ffff'/%3E%3C/svg%3E",
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='330' viewBox='0 0 220 330'%3E%3Cdefs%3E%3ClinearGradient id='poster5' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23ff0080;stop-opacity:1' /%3E%3Cstop offset='50%25' style='stop-color:%23000000;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%2300ffff;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='220' height='330' fill='url(%23poster5)'/%3E%3Cpath d='M40 80 L180 80 L160 140 L60 140 Z' fill='%23fff' opacity='0.7'/%3E%3Ccircle cx='110' cy='200' r='35' fill='%23000' opacity='0.3'/%3E%3Crect x='100' y='190' width='20' height='20' fill='%23fff' transform='rotate(45 110 200)'/%3E%3C/svg%3E",
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='330' viewBox='0 0 220 330'%3E%3Cdefs%3E%3ClinearGradient id='poster6' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23000000;stop-opacity:1' /%3E%3Cstop offset='50%25' style='stop-color:%23ff0080;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23000000;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='220' height='330' fill='url(%23poster6)'/%3E%3Cpolygon points='110,60 80,100 140,100' fill='%2300ffff'/%3E%3Crect x='70' y='150' width='80' height='80' fill='%23000' opacity='0.4'/%3E%3Ccircle cx='110' cy='270' r='25' fill='%23fff' opacity='0.8'/%3E%3C/svg%3E",
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='330' viewBox='0 0 220 330'%3E%3Cdefs%3E%3ClinearGradient id='poster7' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23660033;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23330066;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='220' height='330' fill='url(%23poster7)'/%3E%3Cpath d='M50 70 L170 70 L150 110 L70 110 Z' fill='%23ff00ff' opacity='0.6'/%3E%3Ccircle cx='110' cy='180' r='45' fill='%23000' opacity='0.3'/%3E%3Cpolygon points='110,150 90,210 130,210' fill='%2300ffff'/%3E%3C/svg%3E",
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='330' viewBox='0 0 220 330'%3E%3Cdefs%3E%3ClinearGradient id='poster8' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23003366;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23006633;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='220' height='330' fill='url(%23poster8)'/%3E%3Crect x='60' y='50' width='100' height='100' fill='%23000' opacity='0.4'/%3E%3Ccircle cx='110' cy='200' r='40' fill='%23fff' opacity='0.7'/%3E%3Crect x='95' y='280' width='30' height='30' fill='%23ff00ff'/%3E%3C/svg%3E"
        ];

        // Featured Games data
        const featuredGames = [
            {
                title: "Neon Runner 2077",
                price: "$59.99",
                originalPrice: "$79.99",
                discount: "25% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ"
            },
            {
                title: "Cyber Warfare Elite",
                price: "$49.99",
                originalPrice: "$69.99",
                discount: "30% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ"
            },
            {
                title: "Matrix Hacker",
                price: "$39.99",
                originalPrice: "",
                discount: "NEW",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ"
            },
            {
                title: "Synthwave City",
                price: "$44.99",
                originalPrice: "$54.99",
                discount: "18% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ"
            },
            {
                title: "Digital Ghost",
                price: "$34.99",
                originalPrice: "$49.99",
                discount: "30% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ"
            }
        ];

        // New Releases data
        const newReleases = [
            {
                title: "Quantum Breach",
                price: "$69.99",
                originalPrice: "",
                discount: "NEW",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ"
            },
            {
                title: "Neural Network",
                price: "$54.99",
                originalPrice: "",
                discount: "NEW",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ"
            },
            {
                title: "Code Assassin",
                price: "$49.99",
                originalPrice: "",
                discount: "NEW",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ"
            },
            {
                title: "Virtual Reality X",
                price: "$64.99",
                originalPrice: "",
                discount: "NEW",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ"
            },
            {
                title: "Cyber Protocol",
                price: "$59.99",
                originalPrice: "",
                discount: "NEW",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ"
            }
        ];

        // Best Sellers data
        const bestSellers = [
            {
                title: "Pixel Warrior",
                price: "$29.99",
                originalPrice: "$39.99",
                discount: "25% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ"
            },
            {
                title: "Space Invader Pro",
                price: "$24.99",
                originalPrice: "$34.99",
                discount: "29% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ"
            },
            {
                title: "Retro Fighter",
                price: "$19.99",
                originalPrice: "$29.99",
                discount: "33% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ"
            },
            {
                title: "Neon Arcade",
                price: "$34.99",
                originalPrice: "$44.99",
                discount: "22% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ"
            },
            {
                title: "Cyber Classic",
                price: "$27.99",
                originalPrice: "$39.99",
                discount: "30% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ"
            }
        ];

        // Default configuration
        const defaultConfig = {
            store_title: "CHEAPSTEAM",
            hero_tagline: "ENTER THE MATRIX",
            featured_section_title: "FEATURED GAMES"
        };

        // All games combined for search functionality
        const allSearchableGames = [...featuredGames, ...newReleases, ...bestSellers];

        // Shopping cart functionality
        let cart = [];
        let cartTotal = 0;
        let orderHistory = [];

        function addToCart(game) {
            // Check if game is already in cart
            const existingItem = cart.find(item => item.title === game.title);
            if (existingItem) {
                showNotification('Item already in cart!', 'info');
                return;
            }

            // Add unique ID for cart management
            const cartItem = {
                ...game,
                cartId: Date.now() + Math.random()
            };

            cart.push(cartItem);
            updateCartDisplay();
            showNotification(`${game.title} added to cart!`, 'success');
        }

        function removeFromCart(cartId) {
            cart = cart.filter(item => item.cartId !== cartId);
            updateCartDisplay();
            showNotification('Item removed from cart!', 'info');
        }

        function updateCartDisplay() {
            const cartCount = document.getElementById('cart-count');
            const cartItems = document.getElementById('cart-items');
            
            cartCount.textContent = cart.length;
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-400 text-sm text-center py-2">Cart is empty</p>';
                cartTotal = 0;
                return;
            }
            
            cartTotal = cart.reduce((total, item) => {
                const price = parseFloat(item.price.replace('$', ''));
                return total + price;
            }, 0);
            
            cartItems.innerHTML = cart.map(item => `
                <div class="bg-black bg-opacity-30 p-3 rounded border border-gray-700">
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <h4 class="text-white font-semibold text-sm">${item.title}</h4>
                            <p class="text-green-400 font-bold text-sm">${item.price}</p>
                        </div>
                        <button class="text-red-400 hover:text-red-300 ml-2 remove-cart-item" data-item-id="${item.cartId}">√ó</button>
                    </div>
                </div>
            `).join('');
        }

        function showPaymentModal() {
            closeSideMenu(); // Close side menu first
            updateCheckoutModal(); // Update modal content
            
            const paymentModal = document.getElementById('payment-modal');
            paymentModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function updateCheckoutModal() {
            const checkoutItems = document.getElementById('checkout-items');
            const checkoutTotal = document.getElementById('checkout-total');
            
            // Recalculate cart total
            cartTotal = cart.reduce((total, item) => {
                const price = parseFloat(item.price.replace('$', ''));
                return total + price;
            }, 0);
            
            if (cart.length === 0) {
                checkoutItems.innerHTML = '<p class="text-gray-400 text-center py-4">Your cart is empty</p>';
                checkoutTotal.textContent = '$0.00';
                return;
            }
            
            // Populate checkout items
            checkoutItems.innerHTML = cart.map(item => `
                <div class="flex justify-between items-center py-2 border-b border-gray-700">
                    <div class="flex-1">
                        <h4 class="text-white font-semibold text-sm">${item.title}</h4>
                        <p class="text-gray-400 text-xs">${item.rating}</p>
                    </div>
                    <div class="text-right ml-3">
                        <p class="text-green-400 font-bold text-sm">${item.price}</p>
                        ${item.originalPrice ? `<p class="text-gray-400 line-through text-xs">${item.originalPrice}</p>` : ''}
                        <button class="text-red-400 hover:text-red-300 text-xs mt-1 remove-cart-item" data-item-id="${item.cartId}">Remove</button>
                    </div>
                </div>
            `).join('');
            
            checkoutTotal.textContent = `$${cartTotal.toFixed(2)}`;
        }

        function hidePaymentPage() {
            const paymentModal = document.getElementById('payment-modal');
            paymentModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
            
            // Clear form
            document.getElementById('payment-form').reset();
        }

        function processPayment(paymentData) {
            // Show loading state
            const submitBtn = document.getElementById('complete-purchase-btn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'üîÑ PROCESSING...';
            submitBtn.disabled = true;
            
            // Simulate payment processing
            setTimeout(() => {
                // Add to order history
                const orderTotal = cart.reduce((total, item) => {
                    const price = parseFloat(item.price.replace('$', ''));
                    return total + price;
                }, 0);
                
                const order = {
                    id: 'ORD-' + Date.now(),
                    date: new Date().toLocaleDateString(),
                    items: [...cart],
                    total: orderTotal,
                    paymentMethod: paymentData.paymentMethod || 'Credit Card'
                };
                
                orderHistory.unshift(order);
                
                // Add games to owned games (simulate purchase)
                cart.forEach(game => {
                    const ownedGame = {
                        title: game.title,
                        purchaseDate: new Date().toISOString().split('T')[0],
                        hoursPlayed: 0,
                        lastPlayed: 'Never',
                        achievements: 0,
                        totalAchievements: Math.floor(Math.random() * 30) + 10,
                        status: 'Not Installed'
                    };
                    ownedGames.unshift(ownedGame);
                });
                
                // Clear cart
                cart = [];
                updateCartDisplay();
                
                // Hide payment modal
                hidePaymentPage();
                
                // Show success message
                showNotification('üéâ Purchase successful! Games added to your library!', 'success');
                
                // Reset button
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                
                // Re-render owned games sections
                renderOwnedGames();
                if (currentPage === 'library') {
                    renderAllOwnedGames();
                }
                
                // Update account page if currently viewing it
                if (currentPage === 'account') {
                    updateAccountPage();
                }
            }, 2000);
        }



        // Search functionality for home page
        function initHomeSearch() {
            const searchInput = document.getElementById('home-search');
            const suggestionsContainer = document.getElementById('home-search-suggestions');
            
            if (!searchInput || !suggestionsContainer) return;
            
            searchInput.addEventListener('input', function() {
                const query = this.value.trim().toLowerCase();
                
                if (query.length === 0) {
                    suggestionsContainer.classList.add('hidden');
                    return;
                }
                
                const filteredGames = allSearchableGames.filter(game => 
                    game.title.toLowerCase().includes(query)
                ).slice(0, 8);
                
                if (filteredGames.length === 0) {
                    suggestionsContainer.innerHTML = '<div class="p-4 text-gray-400 text-center">No games found</div>';
                    suggestionsContainer.classList.remove('hidden');
                    return;
                }
                
                suggestionsContainer.innerHTML = filteredGames.map(game => `
                    <div class="p-4 hover:bg-cyan-500 hover:bg-opacity-20 cursor-pointer border-b border-gray-700 last:border-b-0 search-suggestion" data-game="${game.title}">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4 class="text-white font-semibold">${game.title}</h4>
                                <div class="text-yellow-400 text-sm">${game.rating}</div>
                            </div>
                            <div class="text-right">
                                <div class="text-green-400 font-bold">${game.price}</div>
                                ${game.originalPrice ? `<div class="text-gray-400 line-through text-sm">${game.originalPrice}</div>` : ''}
                            </div>
                        </div>
                    </div>
                `).join('');
                
                suggestionsContainer.classList.remove('hidden');
            });
            
            // Hide suggestions when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
                    suggestionsContainer.classList.add('hidden');
                }
            });
            
            // Handle suggestion clicks
            suggestionsContainer.addEventListener('click', function(e) {
                const suggestion = e.target.closest('.search-suggestion');
                if (suggestion) {
                    const gameName = suggestion.getAttribute('data-game');
                    searchInput.value = gameName;
                    suggestionsContainer.classList.add('hidden');
                }
            });
        }

        // Search functionality for bundle search
        function initBundleSearch() {
            const bundleSearchInput = document.getElementById('bundle-search');
            const bundleSuggestionsContainer = document.getElementById('bundle-search-suggestions');
            const bundlesGrid = document.getElementById('bundles-grid');
            
            if (!bundleSearchInput || !bundlesGrid) return;
            
            bundleSearchInput.addEventListener('input', function() {
                const query = this.value.trim().toLowerCase();
                
                if (query.length === 0) {
                    if (bundleSuggestionsContainer) bundleSuggestionsContainer.classList.add('hidden');
                    // Show all bundles
                    renderBundles(gameBundles);
                    return;
                }
                
                const filteredBundles = gameBundles.filter(bundle => 
                    bundle.title.toLowerCase().includes(query) ||
                    bundle.games.some(game => game.toLowerCase().includes(query))
                );
                
                // Update grid with filtered results
                renderBundles(filteredBundles);
                
                // Show suggestions if container exists
                if (bundleSuggestionsContainer) {
                    if (filteredBundles.length === 0) {
                        bundleSuggestionsContainer.innerHTML = '<div class="p-3 text-gray-400 text-center">No bundles found</div>';
                        bundleSuggestionsContainer.classList.remove('hidden');
                        return;
                    }
                    
                    bundleSuggestionsContainer.innerHTML = filteredBundles.map(bundle => `
                        <div class="p-3 hover:bg-cyan-500 hover:bg-opacity-20 cursor-pointer border-b border-gray-700 last:border-b-0 bundle-suggestion" data-bundle="${bundle.title}">
                            <div class="flex justify-between items-center">
                                <div>
                                    <h4 class="text-white font-semibold text-sm">${bundle.title}</h4>
                                    <div class="text-gray-400 text-xs">${bundle.games.length} games included</div>
                                </div>
                                <div class="text-green-400 font-bold text-sm">${bundle.price}</div>
                            </div>
                        </div>
                    `).join('');
                    
                    bundleSuggestionsContainer.classList.remove('hidden');
                }
            });
            
            // Hide suggestions when clicking outside
            if (bundleSuggestionsContainer) {
                document.addEventListener('click', function(e) {
                    if (!bundleSearchInput.contains(e.target) && !bundleSuggestionsContainer.contains(e.target)) {
                        bundleSuggestionsContainer.classList.add('hidden');
                    }
                });
                
                // Handle suggestion clicks
                bundleSuggestionsContainer.addEventListener('click', function(e) {
                    const suggestion = e.target.closest('.bundle-suggestion');
                    if (suggestion) {
                        const bundleName = suggestion.getAttribute('data-bundle');
                        bundleSearchInput.value = bundleName;
                        bundleSuggestionsContainer.classList.add('hidden');
                    }
                });
            }
        }

        // Function to render bundles (for filtering)
        function renderBundles(bundles) {
            const bundlesGrid = document.getElementById('bundles-grid');
            if (bundlesGrid) {
                bundlesGrid.innerHTML = '';
                bundles.forEach(bundle => {
                    bundlesGrid.appendChild(createGameCard(bundle));
                });
            }
        }

        // Create giveaway card HTML (removed tags)
        function createGiveawayCard(giveaway) {
            const giveawayCard = document.createElement('div');
            giveawayCard.className = 'game-card p-6 relative overflow-hidden flex flex-col';
            
            // Calculate time remaining
            const now = new Date();
            const timeLeft = giveaway.endTime - now;
            const daysLeft = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hoursLeft = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const isExpired = timeLeft <= 0;
            
            giveawayCard.innerHTML = `
                <div class="flex-1">
                    <div class="mb-4">
                        <h3 class="text-lg font-bold font-['Orbitron'] text-cyan-400 mb-2">${giveaway.name}</h3>
                        <p class="text-gray-300 text-sm mb-3">${giveaway.description}</p>
                    </div>
                    <div class="space-y-3 mb-4">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Prize Value:</span>
                            <span class="text-green-400 font-bold">${giveaway.value}</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Participants:</span>
                            <span class="text-cyan-400 font-bold">${giveaway.participants.toLocaleString()}</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Ends in:</span>
                            <span class="text-yellow-400 font-bold">${daysLeft}d ${hoursLeft}h</span>
                        </div>
                    </div>
                </div>
                <div class="mt-auto">
                    <button class="w-full py-3 font-['Rajdhani'] text-sm font-bold giveaway-enter-btn ${isExpired ? 'bg-gray-600 text-gray-300 cursor-not-allowed' : 'cyber-button'}" data-giveaway="${giveaway.name}" ${isExpired ? 'disabled' : ''}>
                        ${isExpired ? 'GIVEAWAY ENDED' : 'ENTER GIVEAWAY'}
                    </button>
                </div>
            `;
            
            return giveawayCard;
        }

        // Create owned game card HTML
        function createOwnedGameCard(game) {
            const ownedGameCard = document.createElement('div');
            ownedGameCard.className = 'game-card p-4 relative overflow-hidden';
            
            // Get random poster background
            const randomPoster = gamingPosters[Math.floor(Math.random() * gamingPosters.length)];
            
            const achievementPercentage = Math.round((game.achievements / game.totalAchievements) * 100);
            
            ownedGameCard.innerHTML = `
                <div class="absolute inset-0">
                    <img src="${randomPoster}" alt="Gaming poster" class="w-full h-full object-cover opacity-30">
                </div>
                <div class="absolute inset-0 bg-black bg-opacity-60"></div>
                <div class="relative z-10">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="text-sm font-bold font-['Orbitron'] text-cyan-400 leading-tight">${game.title}</h3>
                        <span class="text-xs px-2 py-1 rounded-full ${game.status === 'Installed' ? 'bg-green-600 text-white' : 'bg-gray-600 text-gray-300'}">
                            ${game.status}
                        </span>
                    </div>
                    <div class="space-y-2 mb-4">
                        <div class="flex justify-between text-xs">
                            <span class="text-gray-400">Hours Played:</span>
                            <span class="text-white font-semibold">${game.hoursPlayed}h</span>
                        </div>
                        <div class="flex justify-between text-xs">
                            <span class="text-gray-400">Last Played:</span>
                            <span class="text-white font-semibold">${game.lastPlayed}</span>
                        </div>
                        <div class="flex justify-between text-xs">
                            <span class="text-gray-400">Achievements:</span>
                            <span class="text-yellow-400 font-semibold">${game.achievements}/${game.totalAchievements} (${achievementPercentage}%)</span>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button class="cyber-button flex-1 py-1 font-['Rajdhani'] text-xs font-bold">
                            ${game.status === 'Installed' ? 'PLAY' : 'INSTALL'}
                        </button>
                        <button class="bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 text-xs font-bold transition-colors">
                            ‚öôÔ∏è
                        </button>
                    </div>
                </div>
            `;
            
            return ownedGameCard;
        }

        // Create game card HTML
        function createGameCard(game) {
            const gameCard = document.createElement('div');
            gameCard.className = 'game-card overflow-hidden relative w-full aspect-[2/3] cursor-pointer';
            
            // Get random poster background
            const randomPoster = gamingPosters[Math.floor(Math.random() * gamingPosters.length)];
            
            gameCard.innerHTML = `
                <div class="absolute inset-0">
                    <img src="${randomPoster}" alt="Gaming poster" class="w-full h-full object-cover">
                </div>
                <div class="absolute inset-0 bg-black bg-opacity-40"></div>
                <div class="relative z-10 h-full flex flex-col">
                    <div class="flex-1 p-3 flex flex-col justify-between">
                        <div class="flex justify-between items-start">
                            ${game.isBundle ? '<span class="bg-purple-600 text-white px-2 py-1 rounded-full text-xs font-bold">üì¶ BUNDLE</span>' : '<div></div>'}
                            <span class="price-tag px-2 py-1 rounded-full text-xs font-bold">
                                ${game.discount}
                            </span>
                        </div>
                        <div class="bg-black bg-opacity-70 p-3 backdrop-blur-sm">
                            <h3 class="text-sm font-bold font-['Orbitron'] text-cyan-400 mb-2 leading-tight">${game.title}</h3>
                            <div class="text-yellow-400 text-sm mb-3">${game.rating}</div>
                            ${game.isBundle ? `<div class="text-xs text-gray-300 mb-2">${game.games.length} games included</div>` : ''}
                            <div class="flex flex-col space-y-2">
                                <div class="flex items-center space-x-2">
                                    <span class="text-lg font-bold text-green-400">${game.price}</span>
                                    ${game.originalPrice ? `<span class="text-gray-300 line-through text-xs">${game.originalPrice}</span>` : ''}
                                </div>
                                <button class="cyber-button px-3 py-1 font-['Rajdhani'] text-xs w-full ${game.isBundle ? 'bundle-card-btn' : 'buy-now-btn'}" ${game.isBundle ? `data-bundle='${JSON.stringify(game)}'` : `data-game='${JSON.stringify(game)}'`}>
                                    ${game.isBundle ? 'VIEW BUNDLE' : 'BUY NOW'}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            return gameCard;
        }

        // Game Bundles data
        const gameBundles = [
            {
                title: "Cyber Action Bundle",
                price: "$89.99",
                originalPrice: "$149.99",
                discount: "40% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ",
                isBundle: true,
                games: [
                    "Neon Runner 2077",
                    "Cyber Warfare Elite", 
                    "Matrix Hacker",
                    "Digital Ghost"
                ]
            },
            {
                title: "Indie Classics Pack",
                price: "$39.99",
                originalPrice: "$79.99",
                discount: "50% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ",
                isBundle: true,
                games: [
                    "Pixel Warrior",
                    "Retro Fighter",
                    "Neon Arcade",
                    "Space Invader Pro",
                    "Cyber Classic"
                ]
            },
            {
                title: "Racing Ultimate Bundle",
                price: "$69.99",
                originalPrice: "$99.99",
                discount: "30% OFF",
                rating: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ",
                isBundle: true,
                games: [
                    "Neon Speed Racer",
                    "Cyber Highway",
                    "Quantum Racing"
                ]
            }
        ];

        // All games for store page (including bundles at the top)
        const allGames = [...gameBundles, ...featuredGames, ...newReleases, ...bestSellers];

        // Active Giveaways data
        const activeGiveaways = [
            {
                name: "Neon Runner 2077 Ultimate Edition",
                participants: 15847,
                endTime: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000), // 5 days from now
                prize: "Game + Season Pass",
                value: "$89.99",
                description: "Win the complete Neon Runner experience with all DLC included!"
            },
            {
                name: "Gaming Peripheral Bundle",
                participants: 8923,
                endTime: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000), // 2 days from now
                prize: "RGB Keyboard + Mouse",
                value: "$199.99",
                description: "Professional gaming setup with RGB lighting and mechanical switches."
            },
            {
                name: "Cyber Warfare Elite Collector's Edition",
                participants: 12456,
                endTime: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000), // 7 days from now
                prize: "Physical + Digital Copy",
                value: "$149.99",
                description: "Limited edition with exclusive artwork, soundtrack, and in-game items."
            },
            {
                name: "Retro Gaming Console Bundle",
                participants: 5432,
                endTime: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000), // 1 day ago (expired)
                prize: "Retro Console + 50 Games",
                value: "$299.99",
                description: "Classic gaming console with a collection of retro games."
            },
            {
                name: "VR Headset Premium Package",
                participants: 18234,
                endTime: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000), // 3 days ago (expired)
                prize: "VR Headset + Controllers",
                value: "$599.99",
                description: "Next-gen VR experience with wireless controllers and premium accessories."
            },
            {
                name: "Gaming Chair Deluxe Edition",
                participants: 9876,
                endTime: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000), // 5 days ago (expired)
                prize: "Ergonomic Gaming Chair",
                value: "$399.99",
                description: "Professional gaming chair with RGB lighting and premium leather."
            },
            {
                name: "Streaming Setup Complete Kit",
                participants: 14567,
                endTime: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000), // 7 days ago (expired)
                prize: "Camera + Microphone + Lights",
                value: "$799.99",
                description: "Everything you need to start professional game streaming."
            },
            {
                name: "Mechanical Keyboard Collection",
                participants: 6789,
                endTime: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000), // 10 days ago (expired)
                prize: "3 Premium Keyboards",
                value: "$449.99",
                description: "Collection of three different mechanical keyboards with custom switches."
            }
        ];

        // Owned Games data (shown when logged in)
        const ownedGames = [
            {
                title: "Pixel Warrior",
                purchaseDate: "2024-01-15",
                hoursPlayed: 47,
                lastPlayed: "2 days ago",
                achievements: 15,
                totalAchievements: 25,
                status: "Installed"
            },
            {
                title: "Space Invader Pro",
                purchaseDate: "2024-02-03",
                hoursPlayed: 23,
                lastPlayed: "1 week ago",
                achievements: 8,
                totalAchievements: 20,
                status: "Not Installed"
            },
            {
                title: "Neon Arcade",
                purchaseDate: "2024-02-20",
                hoursPlayed: 12,
                lastPlayed: "3 days ago",
                achievements: 5,
                totalAchievements: 18,
                status: "Installed"
            },
            {
                title: "Cyber Classic",
                purchaseDate: "2024-01-28",
                hoursPlayed: 89,
                lastPlayed: "Yesterday",
                achievements: 22,
                totalAchievements: 30,
                status: "Installed"
            },
            {
                title: "Matrix Hacker",
                purchaseDate: "2024-01-10",
                hoursPlayed: 156,
                lastPlayed: "Today",
                achievements: 45,
                totalAchievements: 50,
                status: "Installed"
            },
            {
                title: "Digital Ghost",
                purchaseDate: "2024-02-14",
                hoursPlayed: 78,
                lastPlayed: "4 days ago",
                achievements: 28,
                totalAchievements: 35,
                status: "Installed"
            },
            {
                title: "Synthwave City",
                purchaseDate: "2024-01-22",
                hoursPlayed: 34,
                lastPlayed: "1 week ago",
                achievements: 12,
                totalAchievements: 28,
                status: "Installed"
            },
            {
                title: "Quantum Breach",
                purchaseDate: "2024-02-25",
                hoursPlayed: 19,
                lastPlayed: "5 days ago",
                achievements: 7,
                totalAchievements: 22,
                status: "Installed"
            }
        ];

        // Render games for each section
        function renderGames() {
            // Render Featured Games
            const featuredGrid = document.getElementById('featured-games-grid');
            featuredGrid.innerHTML = '';
            featuredGames.forEach(game => {
                featuredGrid.appendChild(createGameCard(game));
            });

            // Render New Releases
            const newReleasesGrid = document.getElementById('new-releases-grid');
            newReleasesGrid.innerHTML = '';
            newReleases.forEach(game => {
                newReleasesGrid.appendChild(createGameCard(game));
            });

            // Render Best Sellers
            const bestSellersGrid = document.getElementById('best-sellers-grid');
            bestSellersGrid.innerHTML = '';
            bestSellers.forEach(game => {
                bestSellersGrid.appendChild(createGameCard(game));
            });

            // Render Game Bundles for store page
            const bundlesGrid = document.getElementById('bundles-grid');
            if (bundlesGrid) {
                bundlesGrid.innerHTML = '';
                gameBundles.forEach(bundle => {
                    bundlesGrid.appendChild(createGameCard(bundle));
                });
            }

            // Render Giveaways (limited)
            renderGiveaways();

            // Render Owned Games (limited)
            renderOwnedGames();
        }

        // Configuration change handler
        async function onConfigChange(config) {
            const storeTitle = config.store_title || defaultConfig.store_title;
            const heroTagline = config.hero_tagline || defaultConfig.hero_tagline;
            const featuredSectionTitle = config.featured_section_title || defaultConfig.featured_section_title;

            document.getElementById('store-title').textContent = storeTitle;
            document.getElementById('hero-tagline').textContent = heroTagline;
            document.getElementById('featured-section-title').textContent = featuredSectionTitle;
        }

        // Capabilities mapping
        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        // Edit panel values mapping
        function mapToEditPanelValues(config) {
            return new Map([
                ["store_title", config.store_title || defaultConfig.store_title],
                ["hero_tagline", config.hero_tagline || defaultConfig.hero_tagline],
                ["featured_section_title", config.featured_section_title || defaultConfig.featured_section_title]
            ]);
        }

        // Banner slider functionality with game poster backgrounds
        const bannerSlides = [
            {
                background: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1920' height='300' viewBox='0 0 1920 300'%3E%3Cdefs%3E%3ClinearGradient id='banner1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23ff6b35;stop-opacity:1' /%3E%3Cstop offset='50%25' style='stop-color:%23000000;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%2300ffff;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='300' fill='url(%23banner1)'/%3E%3Crect x='100' y='50' width='300' height='200' fill='%23000' opacity='0.3' rx='10'/%3E%3Crect x='500' y='30' width='280' height='240' fill='%23000' opacity='0.2' rx='10'/%3E%3Crect x='850' y='40' width='320' height='220' fill='%23000' opacity='0.25' rx='10'/%3E%3Crect x='1250' y='35' width='290' height='230' fill='%23000' opacity='0.3' rx='10'/%3E%3Crect x='1600' y='45' width='280' height='210' fill='%23000' opacity='0.2' rx='10'/%3E%3Cpolygon points='200,120 180,180 220,180' fill='%23fff' opacity='0.8'/%3E%3Ccircle cx='640' cy='150' r='30' fill='%2300ffff' opacity='0.7'/%3E%3Crect x='990' y='130' width='40' height='40' fill='%23ff00ff' opacity='0.6'/%3E%3Cpolygon points='1400,100 1380,160 1420,160' fill='%2300ff00' opacity='0.7'/%3E%3Ccircle cx='1740' cy='150' r='25' fill='%23ffff00' opacity='0.8'/%3E%3C/svg%3E"
            },
            {
                background: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1920' height='300' viewBox='0 0 1920 300'%3E%3Cdefs%3E%3ClinearGradient id='banner2' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23330066;stop-opacity:1' /%3E%3Cstop offset='50%25' style='stop-color:%23ff00ff;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23000033;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='300' fill='url(%23banner2)'/%3E%3Crect x='80' y='40' width='280' height='220' fill='%23000' opacity='0.4' rx='10'/%3E%3Crect x='420' y='25' width='300' height='250' fill='%23000' opacity='0.3' rx='10'/%3E%3Crect x='780' y='35' width='290' height='230' fill='%23000' opacity='0.35' rx='10'/%3E%3Crect x='1130' y='30' width='310' height='240' fill='%23000' opacity='0.3' rx='10'/%3E%3Crect x='1500' y='40' width='280' height='220' fill='%23000' opacity='0.4' rx='10'/%3E%3Ccircle cx='220' cy='150' r='35' fill='%2300ffff' opacity='0.8'/%3E%3Crect x='550' y='125' width='50' height='50' fill='%23ff00ff' opacity='0.7' transform='rotate(45 575 150)'/%3E%3Cpolygon points='925,100 905,200 945,200' fill='%23ffff00' opacity='0.6'/%3E%3Ccircle cx='1285' cy='150' r='40' fill='%2300ff00' opacity='0.7'/%3E%3Crect x='1620' y='130' width='40' height='40' fill='%23ff6b35' opacity='0.8'/%3E%3C/svg%3E"
            },
            {
                background: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1920' height='300' viewBox='0 0 1920 300'%3E%3Cdefs%3E%3ClinearGradient id='banner3' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23003300;stop-opacity:1' /%3E%3Cstop offset='50%25' style='stop-color:%2300ff00;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23001100;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1920' height='300' fill='url(%23banner3)'/%3E%3Crect x='120' y='30' width='290' height='240' fill='%23000' opacity='0.3' rx='10'/%3E%3Crect x='460' y='40' width='280' height='220' fill='%23000' opacity='0.4' rx='10'/%3E%3Crect x='800' y='25' width='320' height='250' fill='%23000' opacity='0.2' rx='10'/%3E%3Crect x='1180' y='35' width='300' height='230' fill='%23000' opacity='0.35' rx='10'/%3E%3Crect x='1540' y='30' width='290' height='240' fill='%23000' opacity='0.3' rx='10'/%3E%3Crect x='245' y='125' width='40' height='40' fill='%2300ffff' opacity='0.8'/%3E%3Ccircle cx='600' cy='150' r='30' fill='%23ff00ff' opacity='0.7'/%3E%3Cpolygon points='960,80 940,220 980,220' fill='%23ffff00' opacity='0.6'/%3E%3Ccircle cx='1330' cy='150' r='35' fill='%23ff6b35' opacity='0.8'/%3E%3Crect x='1665' y='130' width='40' height='40' fill='%2300ff00' opacity='0.7' transform='rotate(45 1685 150)'/%3E%3C/svg%3E"
            }
        ];

        let currentSlide = 0;

        function initBannerSlider() {
            const slides = document.querySelectorAll('.banner-slide');
            const slidesContainer = document.getElementById('slides-container');
            
            // Set background images
            slides.forEach((slide, index) => {
                slide.style.backgroundImage = `url("${bannerSlides[index].background}")`;
            });

            // No auto-slide functionality - images stay static
        }



        // Authentication system
        let isLoggedIn = false;
        let currentUser = null;
        let userGiveawayEntries = [];

        function updateAuthButton() {
            const authButton = document.getElementById('auth-button');
            const cartSection = document.getElementById('cart-section');
            const ownedGamesSection = document.getElementById('owned-games-section');
            
            if (isLoggedIn) {
                authButton.textContent = 'Logout';
                cartSection.style.display = 'block';
                if (ownedGamesSection) {
                    ownedGamesSection.style.display = 'block';
                }
            } else {
                authButton.textContent = 'Login';
                cartSection.style.display = 'none';
                if (ownedGamesSection) {
                    ownedGamesSection.style.display = 'none';
                }
            }
        }

        function showAuthModal() {
            const authModal = document.getElementById('auth-modal');
            authModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function hideAuthModal() {
            const authModal = document.getElementById('auth-modal');
            authModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function showLoginForm() {
            document.getElementById('login-form').classList.remove('hidden');
            document.getElementById('signup-form').classList.add('hidden');
        }

        function showSignupForm() {
            document.getElementById('login-form').classList.add('hidden');
            document.getElementById('signup-form').classList.remove('hidden');
        }

        function handleLogin(email, password) {
            // Simulate login process
            if (email && password) {
                isLoggedIn = true;
                currentUser = {
                    email: email,
                    username: email.split('@')[0],
                    steamId: 'STEAM_' + Math.random().toString(36).substr(2, 9).toUpperCase()
                };
                updateAuthButton();
                hideAuthModal();
                
                // Show success message
                showNotification('Login successful! Welcome back, ' + currentUser.username + '!', 'success');
                
                // Update account page if currently viewing it
                if (currentPage === 'account') {
                    updateAccountPage();
                }
                
                // Clear form
                document.getElementById('login-form-element').reset();
            }
        }

        function handleSignup(username, email, password) {
            // Simulate signup process
            if (username && email && password) {
                isLoggedIn = true;
                currentUser = {
                    email: email,
                    username: username,
                    steamId: 'STEAM_' + Math.random().toString(36).substr(2, 9).toUpperCase()
                };
                updateAuthButton();
                hideAuthModal();
                
                // Show success message
                showNotification('Account created successfully! Welcome, ' + username + '!', 'success');
                
                // Update account page if currently viewing it
                if (currentPage === 'account') {
                    updateAccountPage();
                }
                
                // Clear form
                document.getElementById('signup-form-element').reset();
            }
        }

        function handleLogout() {
            isLoggedIn = false;
            currentUser = null;
            userGiveawayEntries = [];
            updateAuthButton();
            showNotification('Logged out successfully!', 'info');
        }

        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 px-6 py-3 font-['Rajdhani'] font-semibold text-white transform translate-x-full transition-transform duration-300 ${
                type === 'success' ? 'bg-green-600' : 
                type === 'error' ? 'bg-red-600' : 
                'bg-blue-600'
            }`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Slide in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Slide out and remove
            setTimeout(() => {
                notification.style.transform = 'translateX(full)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Loading functionality
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            const loadingBar = document.getElementById('loading-bar');
            
            loadingOverlay.classList.remove('hidden');
            loadingBar.style.width = '0%';
            
            // Animate loading bar from 0% to 100% over 4 seconds
            let progress = 0;
            const interval = setInterval(() => {
                progress += 2.5; // Increment by 2.5% every 100ms (40 steps = 4 seconds)
                loadingBar.style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        loadingOverlay.classList.add('hidden');
                    }, 200); // Small delay before hiding
                }
            }, 100);
        }

        // Tab loading functionality - now shows full screen loading for 2 seconds
        function showTabLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            const loadingBar = document.getElementById('loading-bar');
            
            loadingOverlay.classList.remove('hidden');
            loadingBar.style.width = '0%';
            
            // Animate loading bar from 0% to 100% over 2 seconds
            let progress = 0;
            const interval = setInterval(() => {
                progress += 5; // Increment by 5% every 100ms (20 steps = 2 seconds)
                loadingBar.style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        loadingOverlay.classList.add('hidden');
                    }, 200); // Small delay before hiding
                }
            }, 100);
        }

        // Simple tab functionality with loading
        function initTabs() {
            const desktopTabButtons = document.querySelectorAll('.desktop-tabs .tab-button');
            const mobileGameTabButtons = document.querySelectorAll('.mobile-game-tabs .tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            // Function to handle tab switching
            function switchTab(targetTab, clickedButton) {
                // Show tab loading screen (only covers cards area)
                showTabLoading();
                
                // Wait for loading to complete before switching tabs
                setTimeout(() => {
                    // Remove active class from all buttons and contents
                    desktopTabButtons.forEach(btn => btn.classList.remove('active'));
                    mobileGameTabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // Add active class to clicked button and corresponding content
                    clickedButton.classList.add('active');
                    
                    // Also activate the corresponding button in the other navigation
                    const correspondingButtons = document.querySelectorAll(`[data-tab="${targetTab}"]`);
                    correspondingButtons.forEach(btn => btn.classList.add('active'));
                    
                    document.getElementById(targetTab + '-tab').classList.add('active');
                }, 2200); // Wait for loading to complete (2 seconds + 200ms delay)
            }

            // Add event listeners to desktop tab buttons
            desktopTabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.getAttribute('data-tab');
                    switchTab(targetTab, button);
                });
            });

            // Mobile game tabs removed - no longer needed
        }

        // Page navigation with loading
        function initPageNavigation() {
            // Mobile bottom navigation
            const mobileNavButtons = document.querySelectorAll('.mobile-bottom-nav .nav-button');
            mobileNavButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetPage = button.getAttribute('data-page');
                    if (targetPage !== currentPage) {
                        showTabLoading(); // Show loading for 2 seconds
                        setTimeout(() => {
                            showPage(targetPage);
                        }, 2200);
                    }
                });
            });

            // Side menu navigation
            const sideMenuButtons = document.querySelectorAll('.side-menu [data-page]');
            sideMenuButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetPage = button.getAttribute('data-page');
                    if (targetPage !== currentPage) {
                        closeSideMenu(); // Close side menu first
                        showTabLoading(); // Show loading for 2 seconds
                        setTimeout(() => {
                            showPage(targetPage);
                        }, 2200);
                    } else {
                        closeSideMenu(); // Just close menu if same page
                    }
                });
            });
        }

        // Page navigation functionality
        let currentPage = 'home';

        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page-container').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show target page
            document.getElementById(pageId + '-page').classList.add('active');
            
            // Update mobile navigation buttons
            document.querySelectorAll('.mobile-bottom-nav .nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-page="${pageId}"]`).classList.add('active');
            
            // Update side menu buttons
            document.querySelectorAll('[data-page]').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Mobile game tabs removed - no longer needed
            
            currentPage = pageId;
            
            // Ensure mobile navigation is always visible on Account page
            const mobileNav = document.getElementById('mobile-bottom-nav');
            if (pageId === 'account' && mobileNav) {
                mobileNav.classList.remove('hidden');
            }
            
            // Update account page content based on login status
            if (pageId === 'account') {
                updateAccountPage();
            }
            

            
            // Render content for specific pages
            if (pageId === 'giveaways') {
                renderAllGiveaways();
            } else if (pageId === 'library') {
                renderAllOwnedGames();
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        function updateAccountPage() {
            const notLoggedIn = document.getElementById('account-not-logged-in');
            const loggedIn = document.getElementById('account-logged-in');
            
            if (isLoggedIn && currentUser) {
                notLoggedIn.classList.add('hidden');
                loggedIn.classList.remove('hidden');
                
                // Update profile information
                document.getElementById('profile-username').textContent = currentUser.username;
                document.getElementById('profile-email').textContent = currentUser.email;
                document.getElementById('profile-steam-id').textContent = currentUser.steamId;
                document.getElementById('profile-member-since').textContent = new Date().toLocaleDateString();
                
                // Update giveaway entries
                updateGiveawayEntries();
                
                // Update recent activity
                updateRecentActivity();
            } else {
                notLoggedIn.classList.remove('hidden');
                loggedIn.classList.add('hidden');
            }
        }
        
        function updateRecentActivity() {
            const recentActivityContainer = document.getElementById('recent-activity');
            
            if (!recentActivityContainer) return;
            
            // Combine order history with some sample activities
            const activities = [];
            
            // Add order history
            orderHistory.forEach(order => {
                order.items.forEach(item => {
                    activities.push({
                        type: 'purchase',
                        text: `Purchased ${item.title}`,
                        date: order.date,
                        value: item.price,
                        icon: 'üí≥'
                    });
                });
            });
            
            // Add some sample activities if no orders
            if (activities.length === 0) {
                activities.push(
                    {
                        type: 'achievement',
                        text: 'Achievement Unlocked: Speed Demon',
                        date: '5 days ago',
                        value: 'üèÜ',
                        icon: 'üèÜ'
                    },
                    {
                        type: 'gameplay',
                        text: 'Played Cyber Warfare Elite',
                        date: '1 week ago',
                        value: '3.5 hrs',
                        icon: 'üéÆ'
                    }
                );
            }
            
            // Sort by most recent first (for orders, use actual dates)
            activities.sort((a, b) => {
                if (a.date.includes('ago') || b.date.includes('ago')) return 0;
                return new Date(b.date) - new Date(a.date);
            });
            
            // Limit to 5 most recent activities
            const recentActivities = activities.slice(0, 5);
            
            if (recentActivities.length === 0) {
                recentActivityContainer.innerHTML = '<p class="text-gray-400 text-center py-4">No recent activity</p>';
                return;
            }
            
            recentActivityContainer.innerHTML = recentActivities.map((activity, index) => `
                <div class="flex items-center justify-between ${index < recentActivities.length - 1 ? 'border-b border-gray-700 pb-2' : ''}">
                    <div>
                        <p class="text-white font-semibold">${activity.text}</p>
                        <p class="text-sm text-gray-400">${activity.date}</p>
                    </div>
                    <span class="${activity.type === 'purchase' ? 'text-green-400' : activity.type === 'achievement' ? 'text-yellow-400' : 'text-cyan-400'}">${activity.value}</span>
                </div>
            `).join('');
        }

        function updateGiveawayEntries() {
            const userGiveawaysContainer = document.getElementById('user-giveaways');
            
            if (userGiveawayEntries.length === 0) {
                userGiveawaysContainer.innerHTML = '<p class="text-gray-400 text-center py-4">No giveaway entries yet. Visit the Store to enter giveaways!</p>';
                return;
            }
            
            userGiveawaysContainer.innerHTML = '';
            userGiveawayEntries.forEach(entry => {
                const entryElement = document.createElement('div');
                entryElement.className = 'flex items-center justify-between border-b border-gray-700 pb-2 mb-3';
                
                const timeLeft = entry.endTime - new Date();
                const daysLeft = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                const hoursLeft = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                
                entryElement.innerHTML = `
                    <div>
                        <p class="text-white font-semibold">${entry.name}</p>
                        <p class="text-sm text-gray-400">Prize: ${entry.value} ‚Ä¢ Entered: ${entry.entryDate}</p>
                    </div>
                    <div class="text-right">
                        <p class="text-yellow-400 font-bold text-sm">${daysLeft}d ${hoursLeft}h left</p>
                        <p class="text-xs text-gray-400">${entry.participants.toLocaleString()} participants</p>
                    </div>
                `;
                
                userGiveawaysContainer.appendChild(entryElement);
            });
        }

        // Mobile bottom navigation scroll behavior
        function initMobileNavScroll() {
            let lastScrollTop = 0;
            let scrollTimeout;
            const mobileNav = document.getElementById('mobile-bottom-nav');
            
            if (!mobileNav) return;

            window.addEventListener('scroll', function() {
                // Don't hide navigation on Account page
                if (currentPage === 'account') {
                    mobileNav.classList.remove('hidden');
                    return;
                }
                
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                // Clear existing timeout
                clearTimeout(scrollTimeout);
                
                // Determine scroll direction (only for Home and Store pages)
                if (scrollTop > lastScrollTop && scrollTop > 100) {
                    // Scrolling down - hide nav
                    mobileNav.classList.add('hidden');
                } else {
                    // Scrolling up - show nav
                    mobileNav.classList.remove('hidden');
                }
                
                // Set timeout to show nav after scrolling stops
                scrollTimeout = setTimeout(() => {
                    mobileNav.classList.remove('hidden');
                }, 1000);
                
                lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
            }, { passive: true });
        }

        // Initialize view more buttons
        function initViewMoreButtons() {
            // View more buttons removed
        }

        // Payment form input formatting
        function formatCardNumber(input) {
            let value = input.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
            let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
            input.value = formattedValue;
        }

        function formatExpiryDate(input) {
            let value = input.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
            input.value = value;
        }

        function formatCVV(input) {
            input.value = input.value.replace(/[^0-9]/g, '');
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Show loading screen on initial page load
            showLoading();
            
            // Initialize everything after loading completes
            setTimeout(() => {
                renderGames();
                initBannerSlider();
                initTabs();
                initPageNavigation();
                initMobileNavScroll();
                updateAuthButton();
                updateAccountPage();
                initViewMoreButtons();
                initHomeSearch();
                initBundleSearch();
                updateCartDisplay(); // Initialize cart display
            }, 4200); // Wait for initial loading to complete
            
            // Auth button click handler
            document.getElementById('auth-button').addEventListener('click', function() {
                if (isLoggedIn) {
                    handleLogout();
                } else {
                    showAuthModal();
                    showLoginForm();
                }
            });

            // Modal close handlers
            document.getElementById('close-auth-modal').addEventListener('click', hideAuthModal);
            document.getElementById('auth-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    hideAuthModal();
                }
            });

            // Form switch handlers
            document.getElementById('show-signup').addEventListener('click', showSignupForm);
            document.getElementById('show-login').addEventListener('click', showLoginForm);

            // Form submission handlers
            document.getElementById('login-form-element').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                handleLogin(email, password);
            });

            document.getElementById('signup-form-element').addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('signup-username').value;
                const email = document.getElementById('signup-email').value;
                const password = document.getElementById('signup-password').value;
                handleSignup(username, email, password);
            });

            // Account page login button
            document.getElementById('account-login-btn').addEventListener('click', function() {
                showAuthModal();
                showLoginForm();
            });

            // Cart button click handler
            document.getElementById('cart-button').addEventListener('click', function() {
                showPaymentModal();
            });

            // Payment modal close handlers
            document.getElementById('close-payment-modal').addEventListener('click', hidePaymentPage);
            document.getElementById('cancel-payment').addEventListener('click', hidePaymentPage);
            document.getElementById('payment-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    hidePaymentPage();
                }
            });

            // Payment form submission (modal)
            document.getElementById('payment-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                const paymentData = Object.fromEntries(formData);
                processPayment(paymentData);
            });



            // Payment form input formatting (modal)
            document.getElementById('card-number').addEventListener('input', function() {
                formatCardNumber(this);
            });

            document.getElementById('expiry-date').addEventListener('input', function() {
                formatExpiryDate(this);
            });

            document.getElementById('cvv').addEventListener('input', function() {
                formatCVV(this);
            });



            // Payment method change handler (modal)
            document.querySelectorAll('input[name="payment-method"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const cardDetails = document.getElementById('card-details');
                    if (this.value === 'credit-card') {
                        cardDetails.style.display = 'block';
                    } else {
                        cardDetails.style.display = 'none';
                    }
                });
            });



            // Bundle modal close handlers
            document.getElementById('close-bundle-modal').addEventListener('click', hideBundleModal);
            document.getElementById('bundle-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    hideBundleModal();
                }
            });

            // Participation modal event listeners
            document.getElementById('close-participation-modal').addEventListener('click', hideParticipationModal);
            document.getElementById('cancel-participation').addEventListener('click', hideParticipationModal);
            document.getElementById('participation-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    hideParticipationModal();
                }
            });

            document.getElementById('participation-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const participationCode = document.getElementById('participation-code').value.trim();
                handleParticipationSubmit(participationCode);
            });

            // Close modal on escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    if (!document.getElementById('auth-modal').classList.contains('hidden')) {
                        hideAuthModal();
                    }
                    if (!document.getElementById('bundle-modal').classList.contains('hidden')) {
                        hideBundleModal();
                    }
                    if (!document.getElementById('participation-modal').classList.contains('hidden')) {
                        hideParticipationModal();
                    }
                    if (!document.getElementById('payment-modal').classList.contains('hidden')) {
                        hidePaymentPage();
                    }
                }
            });

            // Handle dynamic close button in bundle modal
            document.addEventListener('click', function(e) {
                if (e.target.id === 'close-bundle-modal-btn') {
                    hideBundleModal();
                }
            });
            
            // Initialize Element SDK if available
            if (window.elementSdk) {
                window.elementSdk.init({
                    defaultConfig,
                    onConfigChange,
                    mapToCapabilities,
                    mapToEditPanelValues
                });
            }
        });

        // Side menu functionality
        const menuToggle = document.getElementById('menu-toggle');
        const closeMenu = document.getElementById('close-menu');
        const sideMenu = document.getElementById('side-menu');
        const menuOverlay = document.getElementById('menu-overlay');

        function openSideMenu() {
            sideMenu.classList.add('open');
            menuOverlay.classList.add('open');
            menuToggle.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeSideMenu() {
            sideMenu.classList.remove('open');
            menuOverlay.classList.remove('open');
            menuToggle.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        menuToggle.addEventListener('click', openSideMenu);
        closeMenu.addEventListener('click', closeSideMenu);
        menuOverlay.addEventListener('click', closeSideMenu);

        // Close menu on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && sideMenu.classList.contains('open')) {
                closeSideMenu();
            }
        });

        // Participation modal functions
        let currentGiveawayName = '';

        function showParticipationModal(giveawayName) {
            const participationModal = document.getElementById('participation-modal');
            const giveawayNameElement = document.getElementById('participation-giveaway-name');
            
            currentGiveawayName = giveawayName;
            giveawayNameElement.textContent = giveawayName;
            
            participationModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            
            // Focus on the input field
            setTimeout(() => {
                document.getElementById('participation-code').focus();
            }, 100);
        }

        function hideParticipationModal() {
            const participationModal = document.getElementById('participation-modal');
            participationModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
            
            // Clear the form
            document.getElementById('participation-form').reset();
            currentGiveawayName = '';
        }

        function handleParticipationSubmit(participationCode) {
            // Validate participation code (simple validation for demo)
            if (!participationCode || participationCode.length < 3) {
                showNotification('Please enter a valid participation code!', 'error');
                return;
            }
            
            // Find the giveaway and update participant count
            const giveaway = activeGiveaways.find(g => g.name === currentGiveawayName);
            if (giveaway) {
                giveaway.participants += 1;
                
                // Add to user's giveaway entries
                userGiveawayEntries.push({
                    name: giveaway.name,
                    value: giveaway.value,
                    endTime: giveaway.endTime,
                    participants: giveaway.participants,
                    entryDate: new Date().toLocaleDateString(),
                    participationCode: participationCode
                });
                
                hideParticipationModal();
                showNotification(`Successfully entered ${currentGiveawayName} giveaway with code: ${participationCode}! Good luck!`, 'success');
                
                // Re-render giveaways to update participant count and button states
                renderGiveaways();
                
                // Update account page if currently viewing it
                if (currentPage === 'account') {
                    updateGiveawayEntries();
                }
            }
        }

        // Giveaway entry functionality
        function handleGiveawayEntry(giveawayName) {
            if (!isLoggedIn) {
                showNotification('Please log in to enter giveaways!', 'error');
                showAuthModal();
                showLoginForm();
                return;
            }
            
            // Check if already entered
            const alreadyEntered = userGiveawayEntries.some(entry => entry.name === giveawayName);
            if (alreadyEntered) {
                showNotification('You have already entered this giveaway!', 'error');
                return;
            }
            
            // Check if giveaway is expired
            const giveaway = activeGiveaways.find(g => g.name === giveawayName);
            if (giveaway && giveaway.endTime <= new Date()) {
                showNotification('This giveaway has expired!', 'error');
                return;
            }
            
            // Show participation modal
            showParticipationModal(giveawayName);
        }

        // Separate function to render giveaways (limited to 2 ACTIVE giveaways on store page)
        function renderGiveaways() {
            const giveawaysGrid = document.getElementById('giveaways-grid');
            if (giveawaysGrid) {
                giveawaysGrid.innerHTML = '';
                // Show only first 2 ACTIVE giveaways on store page (filter out expired ones)
                const activeOnly = activeGiveaways.filter(giveaway => {
                    const timeLeft = giveaway.endTime - new Date();
                    return timeLeft > 0; // Only active giveaways
                }).slice(0, 2);
                
                activeOnly.forEach(giveaway => {
                    const giveawayCard = createGiveawayCard(giveaway);
                    
                    // Check if user has already entered this giveaway
                    if (isLoggedIn && userGiveawayEntries.some(entry => entry.name === giveaway.name)) {
                        const button = giveawayCard.querySelector('.giveaway-enter-btn');
                        button.textContent = 'ALREADY ENTERED';
                        button.disabled = true;
                        button.classList.remove('cyber-button');
                        button.classList.add('bg-gray-600', 'text-gray-300', 'cursor-not-allowed');
                    }
                    
                    giveawaysGrid.appendChild(giveawayCard);
                });
            }
        }

        // Function to render all giveaways on dedicated page
        function renderAllGiveaways() {
            const allGiveawaysGrid = document.getElementById('all-giveaways-grid');
            if (allGiveawaysGrid) {
                allGiveawaysGrid.innerHTML = '';
                // Show ALL giveaways (both active and expired)
                activeGiveaways.forEach(giveaway => {
                    const giveawayCard = createGiveawayCard(giveaway);
                    
                    // Check if user has already entered this giveaway (only for active ones)
                    const timeLeft = giveaway.endTime - new Date();
                    const isExpired = timeLeft <= 0;
                    
                    if (isLoggedIn && !isExpired && userGiveawayEntries.some(entry => entry.name === giveaway.name)) {
                        const button = giveawayCard.querySelector('.giveaway-enter-btn');
                        button.textContent = 'ALREADY ENTERED';
                        button.disabled = true;
                        button.classList.remove('cyber-button');
                        button.classList.add('bg-gray-600', 'text-gray-300', 'cursor-not-allowed');
                    }
                    
                    allGiveawaysGrid.appendChild(giveawayCard);
                });
            }
        }

        // Function to render limited owned games (2 on store page)
        function renderOwnedGames() {
            const ownedGamesGrid = document.getElementById('owned-games-grid');
            if (ownedGamesGrid) {
                ownedGamesGrid.innerHTML = '';
                // Show only first 2 owned games on store page
                const limitedOwnedGames = ownedGames.slice(0, 2);
                limitedOwnedGames.forEach(game => {
                    ownedGamesGrid.appendChild(createOwnedGameCard(game));
                });
            }
        }

        // Function to render all owned games on dedicated page
        function renderAllOwnedGames() {
            const allOwnedGamesGrid = document.getElementById('all-owned-games-grid');
            if (allOwnedGamesGrid) {
                allOwnedGamesGrid.innerHTML = '';
                // Show ALL 8 owned games in library page
                ownedGames.forEach(game => {
                    allOwnedGamesGrid.appendChild(createOwnedGameCard(game));
                });
            }
        }

        // Bundle modal functions
        function showBundleModal(bundleData) {
            const bundleModal = document.getElementById('bundle-modal');
            const bundleContent = document.getElementById('bundle-content');
            
            bundleContent.innerHTML = `
                <h2 class="text-2xl font-bold font-['Orbitron'] text-cyan-400 mb-4">${bundleData.title}</h2>
                <div class="mb-4">
                    <div class="flex items-center space-x-2 mb-2">
                        <span class="text-2xl font-bold text-green-400">${bundleData.price}</span>
                        ${bundleData.originalPrice ? `<span class="text-gray-300 line-through text-lg">${bundleData.originalPrice}</span>` : ''}
                        <span class="bg-gradient-to-r from-orange-500 to-red-500 text-white px-2 py-1 rounded-full text-sm font-bold">${bundleData.discount}</span>
                    </div>
                    <div class="text-yellow-400 mb-4">${bundleData.rating}</div>
                </div>
                <div class="mb-6">
                    <h3 class="text-lg font-bold text-cyan-300 mb-3">üì¶ Games Included (${bundleData.games.length})</h3>
                    <div class="space-y-2 max-h-64 overflow-y-auto pr-2" style="scrollbar-width: thin; scrollbar-color: #00ffff #1a1a2e;">
                        ${bundleData.games.map(game => `
                            <div class="flex items-center space-x-3 p-3 bg-black bg-opacity-30 rounded border border-gray-700">
                                <div class="w-8 h-8 bg-gradient-to-br from-cyan-500 to-purple-500 rounded flex items-center justify-center">
                                    <span class="text-white font-bold text-sm">üéÆ</span>
                                </div>
                                <span class="text-white font-semibold">${game}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
                <div class="flex space-x-3">
                    <button class="cyber-button flex-1 py-3 font-['Rajdhani'] text-lg font-bold">
                        BUY BUNDLE
                    </button>
                    <button class="bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 font-bold transition-colors" id="close-bundle-modal-btn">
                        CLOSE
                    </button>
                </div>
            `;
            
            bundleModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function hideBundleModal() {
            const bundleModal = document.getElementById('bundle-modal');
            bundleModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Add interactive effects
        document.addEventListener('click', function(e) {
            
            // Handle giveaway entry
            if (e.target.classList.contains('giveaway-enter-btn')) {
                const giveawayName = e.target.getAttribute('data-giveaway');
                handleGiveawayEntry(giveawayName);
            }
            
            // Handle bundle card click
            if (e.target.classList.contains('bundle-card-btn') || e.target.closest('.bundle-card-btn')) {
                e.preventDefault();
                e.stopPropagation();
                const button = e.target.classList.contains('bundle-card-btn') ? e.target : e.target.closest('.bundle-card-btn');
                try {
                    const bundleData = JSON.parse(button.getAttribute('data-bundle'));
                    showBundleModal(bundleData);
                } catch (error) {
                    console.error('Error parsing bundle data:', error);
                }
            }
            
            // Handle BUY NOW button click
            if (e.target.classList.contains('buy-now-btn') || e.target.closest('.buy-now-btn')) {
                e.preventDefault();
                e.stopPropagation();
                const button = e.target.classList.contains('buy-now-btn') ? e.target : e.target.closest('.buy-now-btn');
                try {
                    const gameData = JSON.parse(button.getAttribute('data-game'));
                    addToCart(gameData);
                } catch (error) {
                    console.error('Error parsing game data:', error);
                }
            }
            
            // Handle cart item removal
            if (e.target.classList.contains('remove-cart-item') || e.target.closest('.remove-cart-item')) {
                e.preventDefault();
                e.stopPropagation();
                const button = e.target.classList.contains('remove-cart-item') ? e.target : e.target.closest('.remove-cart-item');
                const itemId = parseFloat(button.getAttribute('data-item-id'));
                removeFromCart(itemId);
            }
        });
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99603ebc434459d8',t:'MTc2MTcxNTQ1MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>